{"version":3,"sources":["assets/logo.png","lib/userServices.js","lib/remoteDB.js","reducers/message.js","reducers/users.js","components/Search.js","components/Header.js","components/Message.js","components/Profile.js","components/ProfileList.js","App.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","db","PouchDB","remoteDb","fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","userID","req","user","profile","wrap","_context","prev","next","fetch","concat","sent","json","login","Error","_id","id","avatar_url","name","html_url","put","abrupt","t0","stop","this","_x","apply","arguments","getAllUsers","_ref2","_callee2","users","_context2","allDocs","include_docs","rows","map","row","doc","sync","on","console","log","err","messageInitialState","msg","class","showMessage","message","type","payload","initialState","allProfiles","USER_ADD","LOAD_ADD","Search","handleSubmit","e","preventDefault","target","elements","value","_this","props","addUser","react_default","createElement","onSubmit","className","hidden","placeholder","Component","connect","state","dispatch","then","setTimeout","Header","src","logo","alt","Message","Profile","length","rel","href","ProfileList","componentDidMount","getUsers","prof","Profile_Profile","assign","key","App","Header_Header","components_Message","components_Search","components_ProfileList","reducer","combineReducers","undefined","action","find","Number","objectSpread","createStore","composeWithDevTools","applyMiddleware","thunk","profiles","store","getState","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.806477bf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2d44cad2.png\";","import PouchDB from 'pouchdb'\r\nimport remoteDB from './remoteDB'\r\n\r\n\r\nconst db = new PouchDB('github-profiles')\r\nlet remoteDb = new PouchDB(remoteDB)\r\n\r\nexport const fetchUser = async(userID) => {\r\n    try {\r\n        const req = await fetch(`https://api.github.com/users/${userID}`)\r\n        const user = await req.json()\r\n        if (!user.login) {\r\n            throw new Error()\r\n        }\r\n        const profile = { _id: '' + user.id, avatar_url: user.avatar_url, name: user.name, html_url: user.html_url, login: user.login }\r\n        await db.put(profile)\r\n        return profile\r\n    } catch (err) {\r\n        return {}\r\n    }\r\n}\r\n\r\nconst syncDb = () => {\r\n    db.sync(remoteDb).on('complete', function() {\r\n        console.log(\"Sync success\")\r\n    }).on('error', function(err) {\r\n        console.log(\"Error\")\r\n    });\r\n}\r\n\r\nexport const getAllUsers = async() => {\r\n    try {\r\n        const req = await db.allDocs({ include_docs: true })\r\n        const users = req.rows.map(row => row.doc);\r\n        syncDb()\r\n        return users\r\n    } catch (err) {\r\n        return {}\r\n    }\r\n}","let remoteDB = 'http://administrator:Ymsc4ics@35.232.119.58:5984/github-profiles'\r\nexport default remoteDB"," import {USER_ADD,LOAD_ADD} from './users'\r\n\r\n\r\n\r\nconst SHOW_MESSAGE = 'SHOW_MESSAGE'\r\nconst messageInitialState = {msg:'',class:''}\r\nexport const showMessage= (message)=>({type:SHOW_MESSAGE,payload:message})\r\nexport default (state = messageInitialState, action) => {\r\n    switch (action.type) {\r\n        case SHOW_MESSAGE:\r\n            return {class: action.payload.class||'', msg:action.payload.msg}\r\n        case USER_ADD:\r\n        case LOAD_ADD:\r\n            return messageInitialState\r\n        default:\r\n            return messageInitialState\r\n    }\r\n}\r\n\r\n","import {fetchUser,getAllUsers} from '../lib/userServices';\r\nimport {showMessage} from './message'\r\n\r\nconst initialState = {\r\n    allProfiles: []\r\n}\r\n\r\nexport const USER_ADD = \"USER_ADD\"\r\nexport const LOAD_ADD = \"LOAD_ADD\"\r\n\r\n\r\nexport const loadUsers = (profiles) => ({\r\n    type: LOAD_ADD,\r\n    payload: profiles\r\n})\r\nexport const userAdd = (profile) => ({\r\n    type: USER_ADD,\r\n    payload: {_id:profile._id,avatar_url:profile.avatar_url,name:profile.name,html_url:profile.html_url,login:profile.login}\r\n})\r\n\r\nexport const getUsers = () => {\r\n    return (dispatch)=>{\r\n        dispatch(showMessage({msg:'loading users'}))\r\n        getAllUsers().then(users=>dispatch(loadUsers(users)))\r\n    }\r\n}\r\nexport const addUser = (userID) => {\r\n    return (dispatch) => {\r\n        dispatch(showMessage({msg:'adding user'}))\r\n        fetchUser(userID).then(user=> {\r\n            if(!user.login){\r\n                dispatch(showMessage({msg:'Cannot add user',class:'msg-red'}))\r\n                setTimeout(() => {\r\n                    return dispatch(showMessage({msg:''}))\r\n                }, 2000)\r\n                \r\n            } \r\n            else{\r\n                return dispatch(userAdd(user))\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case USER_ADD:\r\n            if(state.allProfiles.find(user=>Number(user._id) === Number(action.payload._id))) return {...state}\r\n            return {...state,allProfiles:state.allProfiles.concat(action.payload)}\r\n        case LOAD_ADD:\r\n            return {...state,allProfiles:action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport {addUser} from '../reducers/users';\r\nimport {connect} from 'react-redux'\r\nclass Search extends Component {\r\n\thandleSubmit =  (e)=>{\r\n\t\te.preventDefault()\r\n\t\tconst userID = e.target.elements.userID.value\r\n\t\tthis.props.addUser(userID)\r\n\t\te.target.elements.userID.value =''\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.handleSubmit} className=\"field has-addons has-addons-centered column\">\r\n\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t<label hidden>Profile</label><input className=\"input\" name='userID' type=\"text\" placeholder=\"Add github profile \" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t<button className=\"button is-dark is-outlined\">Add</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(state=>state,{addUser})(Search)","import React, { Component } from \"react\";\r\nimport logo from \"../assets/logo.png\";\r\n\r\nexport default class Header extends Component {\r\n    render() {\r\n        return ( <\r\n            header className = \"App-header\" >\r\n            <\r\n            img src = { logo }\r\n\r\n            className = \"github-logo\"\r\n            alt = '' / >\r\n            DSCBUK Github Profiles\r\n\r\n            <\r\n            /header>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nclass Message extends Component {\r\n  render() {\r\n    return (this.props.message ?<div className={`message ${this.props.message.class}` }> {this.props.message.msg} </div> :null)\r\n  }\r\n}\r\n\r\nexport default connect(state=>({message:state.message}))(Message)","import React, { Component } from \"react\";\r\n\r\nexport default class Profile extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"column is-mobile is-2\">\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"card-image\">\r\n\t\t\t\t\t\t<figure className=\"image is-4by3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={this.props.avatar_url}\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-content\">\r\n\t\t\t\t\t\t<div className=\"media\">\r\n\t\t\t\t\t\t\t<div className=\"media-left profile-details\">\r\n\t\t\t\t\t\t\t\t<p className='bubtitile is-4' length='12'>{this.props.name}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"subtitle is-6\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.html_url}>@{this.props.login}</a></p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {getUsers} from '../reducers/users';\r\nclass ProfileList extends Component {\r\n\tcomponentDidMount = () => {\r\n\t  this.props.getUsers()\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"container has-background-white-bis\t\">\r\n\t\t\t\t\t<div className=\"columns is-multiline\">\r\n\t\t\t\t\t\t{this.props.allProfiles.map(prof => (\r\n\t\t\t\t\t\t\t<Profile key={prof._id} {...prof} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default connect(state => ({allProfiles:state.users.allProfiles}),{getUsers})(ProfileList);\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"bulma/css/bulma.css\";\r\nimport Search from './components/Search'\r\nimport Header from './components/Header';\r\nimport Message from './components/Message';\r\nimport ProfileList from './components/ProfileList';\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Message />\r\n\t\t\t\t<Search />\r\n        \t\t<ProfileList />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default App;\r\n","import userReducer from './reducers/users';\r\nimport messageReducer from './reducers/message';\r\nimport {createStore,applyMiddleware, combineReducers} from 'redux'\r\nimport thunk from \"redux-thunk\";\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\n\r\nconst reducer = combineReducers({users:userReducer,message:messageReducer})\r\nexport default createStore(reducer,composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux'\r\n\r\nimport store from './store';\r\nconst profiles = store.getState()\r\nReactDOM.render(<Provider store={store}><App allProfiles={profiles} /></Provider>, document.getElementById('root'));\r\n"],"sourceRoot":""}